# 04-04. 힙(Heap) 자료구조

### Q. 힙(Heap)자료구조에 대해서 설명해주세요

`힙(Heap)`은 **데이터를 특정 규칙에 따라 나무 모양으로 저장하는 자료구조 입니다. 주로 가장 크거나 가장 작은 데이터를 빠르게 찾아야 할 때 사용합니다.** 그래서 힙은 크게 두 가지 종류가 있습니다.

첫번째로 `최대 힙 (Max Heap)`은 부모 노드가 자식 노드보다 항상 크거나 같도록 구성된 트리입니다. 루트 노드에는 가장 큰 값이 위치합니다.\
두번째로 `최소 힙 (Min Heap)`은 부모 노드가 자식 노드보다 항상 작거나 같도록 구성된 트리입니다. 루트 노드에는 가장 작은 값이 위치합니다.

힙은 데이터를 추가하거나 삭제할 때 효율적입니다. 시간 복잡도가 `O(log N)` 이여서 대략 데이터가 1000개 있으면 10번 정도의 계산으로 처리 할 수 있고, 데이터가 100만 개 있어도 20번 정도의 계산으로 처리할 수 있을 만큼 빠릅니다.

이런 특성 때문에 힙은 **우선순위 큐를 만들 때 사용**됩니다. 특정 우선 순위가 높은 데이터를 뽑아야 할 때, 힙을 사용하면 가장 우선순위가 높은 데이터를 효율적으로 뽑을 수 있습니다.



### Q. 힙의 삽입 연산의 시간 복잡도가 log n 이라고 하셨는데, 어떻게 log n 이 나오는지 설명해주실 수 있나요?

새로운 데이터가 들어오면, 일단 힙의 가장 마지막 자리에 추가합니다. 이런 삽입 자체는 `O(1)`의 시간이 걸립니다. 그 다음, 자신의 부모 노드와 값을 비교해서, 만약 최대 힙에서 새 데이터가 부모보다 크다면 둘의 자리를 바꿉니다. 이 과정을 마치 제자리를 찾아 나무를 한 칸씩 올라가듯이, 루트에 도달하거나 자신보다 큰 부모를 만날 때까지 반복합니다.

힙은 데이터 N개에 대해 높이가 약 logN인 완전 이진 트리 구조를 유지하므로, 최악의 경우에도 이 비교 및 교환 과정은 트리의 높이만큼만 일어나게 됩니다. 그래서 **최종 시간 복잡도가 O(logN)** 이 되는 것입니다.

추가로 힙의 높이가 logN에 가까운 이유는, 트리의 레벨이 하나 깊어질 때마다 저장 가능한 노드의 수가 두 배씩 늘어나는 구조이기 때문입니다. 반대로 말하면, 데이터의 개수가 두 배로 늘어나도 높이는 겨우 1만 증가하는 셈이죠.
